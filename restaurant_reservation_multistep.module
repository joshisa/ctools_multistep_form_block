<?php

/**
 * @file
 * This is a basic block module that provides an Ajax dependent dropdown form
 * Author:  joshisa@us.ibm.com
 */

/**
 * Implements hook_block_info().
 */
function restaurant_reservation_multistep_block_info() {
  $blocks = array();
  $blocks['restaurant_reservation_multistep'] = array(
    'info' => t('MultiStep Form'),
    'cache' => DRUPAL_NO_CACHE,
  );
  return $blocks;
}

/**
 * Implements hook_block_view.
 */
function restaurant_reservation_multistep_block_view($delta = '') {
  $block = array();

  switch ($delta) {
    case 'restaurant_reservation_multistep':
        $block['subject'] = '';
        $block['content'] = _restaurant_reservation_multistep_block_content();
        break;
    default:
        $block['subject'] = '';
        $block['content'] = t('Uh oh! Bullseye\'s designer has gone on vacation!');
  }
  return $block;
}

function _restaurant_reservation_multistep_block_content() {
  // $output = t('Hello World!');
  $output = drupal_render(drupal_get_form('cake_designer_form'));
  return $output;
}

function _first_dropdown_options() {
  // drupal_map_assoc() just makes an array('String' => 'String'...).
  return drupal_map_assoc(
  array(
    t('Sheet'),
    t('Round'),
    t('Pull-Apart Cupcake'),
    t('Dancer'),
    t('Brownie Sandwich'),
  )
  );
}

function cake_designer_form($form, &$form_state) {
  $form['myfield'] = array(
    '#type' => 'textfield',
    '#title' => t('Some Field'),
  );

  return $form;
}
